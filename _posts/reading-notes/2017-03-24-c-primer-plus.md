---
layout: post
title:  "读书笔记 ——《C Primer Plus》(第5版)"
date:   2017-03-24
excerpt: "《C Primer Plus》(第5版)的笔记，主要记录每个章节的重点部分，以及需要特别注意的细节。"
tag:
- 读书笔记
comments: true
---

本笔记是以**c99**作为标准，而不是最新的**c11**标准。

## c语言关键字


ANSI C一共只有32个关键字，加上ISO推出的C99标准，新增了5个关键字，一共有37个关键字（C99标准）。

把这些关键字按照不同的类型分类，可以分成：数据类型关键字、控制语句关键字、存储类型关键字、函数说明关键字。

### 数据类型关键字（共15个）

| 关键字        	   | 备注           				|
| ---------------- |:---------------------------|
| char             | 字符类型                   |
| short            | 短整型                     |
| int              | 整型                       |
| long             | 长整型                     |
| float            | 单精度浮点数（6 位有效数字） |
| double           | 双精度浮点数（10位有效数字） |
| signed           | 声明为有符号类型            |
| unsigned         | 声明为无符号类型            |
| struct           | 结构体类型                  |
| union            | 联合类型                    |
| enum             | 枚举类型                    |
| void             | 空类型                      |
| _Bool            | 布尔类型（c99新增，需要包含stdbool.h）|
| _Complex         | 复数类型（c99新增）          |
| _Imaginary       | 虚数类型（c99新增）          |
{: rules="all"}

### 控制语句关键字（共12个）

| 关键字        	   | 备注           				|
| ---------------- |:---------------------------|
| for              | for循环                    |
| do               | do..while循环结构          |
| while            | while循环                  |
| break            | 跳出循环                   |
| continue         | 结束当前循环，继续下一个循环 |
| if               | if条件语句                  |
| else             | 条件语句否定分支            |
| goto             | 无条件跳转                  |
| switch           | 开关语句                   |
| case             | 开关语句分支                |
| default          | 开关语句的默认分支          |
| return           | 返回语句                   |
{: rules="all"}

### 存储类型关键字（共9个）

| 关键字        	   | 备注           				|
| ---------------- |:---------------------------|
| auto             | 声明自动变量                |
| extern           | 重新声明已经在其他地方定义过的变量|
| register         | 声明寄存器变量              |
| static           | 静态类型                    |
| sizeof           | 计算数据类型或变量长度（即所占字节数） |
| typedef          | 数据类型别名               |
| const            | 声明只读变量            		|
| volatile         | 说明变量在程序执行中可被隐含地改变|
| restrict         | 仅用于指针，表明指针是访问一个数据对象唯一的方式|
{: rules="all"}

### 函数说明关键字（共1个）

| 关键字        	   | 备注           				|
| ---------------- |:---------------------------|
| inline           | 内联函数声明                |
{: rules="all"}

ps：前两章节，都是介绍c语言，所以，忽略掉这两章的内容，该笔记重点记录从第三章开始的内容。

## 第三章：数据和C

- C仅保证short类型不会比int类型长，并且long类型不会比int类型短。这样做是为了适应不同的机器。  
**个人理解**：C并没有规定int类型必须是4字节，具体每个类型占用多少字节，需要根据不同的平台定义。但是C保证int至少有16位，short至少是16位，long至少为32位，long long至少是64位。**特别的**，char类型肯定为1个字节，因为C把char类型的长度定义为1字节。

- _Bool类型由C99引入，用于表示布尔值，即逻辑值true（真）与false（假）。因为C用值1表示true，用值0表示false，所以_Bool类型实际上也是一种整数类型。只是原则上它仅仅需要1位来进行存储。因为对于0和1而言，1位的存储空间已经够用了。  
**提醒**：如果需要用到bool变量，需要包含stdbool.h头文件

- 如果想把一个比较小的值作为long对待，可以使用`L`作为后缀。例如：`long a = 123L`，与之类似，使用`LL`后缀表示long long，使用`ULL`表示unsinged long long。

- 打印占位符:%d打印有符号整型，%o打印八进制，%x打印16进制，u%打印无符号整型，ld%打印长整型（long int)，lld%打印long long，%c打印字符，%f打印float和double（%e表示以指数形式打印），%lf打印long float。

- 可移植的类型，需要包含头文件`inttypes.h`，可以明确知道一个int是否是16位还是32位，例如：int16_t,uint32_t。

- 默认情况下，编译器会把浮点常量当做double类型对待。C可以使用`F`后缀告诉编译器把一个浮点常量做为float看待，例如：1.23F，如果想做为long double看待，可以使用后缀`L`,例如：5.14L。  
**提醒**:这里的L和前面的long类型的L是有区别的。一个是long int，一个是long double。

- 浮点数需要注意上溢和下溢的情况，另外浮点数会存在一个特殊的值NaN（Not a Number），例如：90度的正切值（tan90°）就是不存在的。

- **注意**，使用％d显示float值不会把该float值转换为近似的int值，而是显示垃圾值。与之类似，使用％f显示int值也不会把该int值转换为浮点值。而且，参数的数目不足和类型不匹配所造成的结果也将随平台不同而不同。例如：`int a=100; printf("a=%f\n",a)`;此时可能输出a=0.000000。

- C有多种数据类型。基本的数据类型包含两大类：整数类型和浮点类型。整数类型的两个重要特征是其类型的大小以及它是有符号还是无符号的。最小的整数类型是char，因实现不同可以是有符号或无符号的（使用singed 或 unsigned）。
## 第二章


TODO
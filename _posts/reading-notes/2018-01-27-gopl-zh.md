---
layout: post
title:  "读书笔记 ——《Go语言圣经》"
date:   2018-01-27
excerpt: "Go语言圣经 《The Go Programming Language》 中文版本笔记"
tag:
- 读书笔记
comments: true
---

本书中文版，点[这里](https://books.studygolang.com/gopl-zh/index.html)。


## 第1章：入门

1. 命令行参数

	`os`包以跨平台的方式，提供了一些与操作系统交互的函数和变量。程序的命令行参数可从os包的Args变量获取；os包外部使用os.Args访问该变量。**os.Args的第一个元素**，`os.Args[0]`, 是命令本身的名字（例如：`D:\Github\xlsxconv\xlsxconv.exe`）。

2. `bufio`包，它使处理输入和输出方便又高效。Scanner类型是该包最有用的特性之一，它读取输入并将其拆成行或单词；通常是处理行形式的输入最简单的方法。它是按**流**模式读取输入，并根据需要拆分成多个行。理论上，可以处理任意数量的输入数据。还有另一个方法，就是一口气把全部输入数据读到内存中，一次分割为多行，然后处理它们，需要使用`ReadFile`（来自于`io/ioutil`）和`strings.Split`。
	
	```go
	input := bufio.NewScanner(os.Stdin)
	for input.Scan() {
	   	// TODO ...
	}
	```
3. `Printf`格式字符串：

	| 占位符        	   	| 备注           									|
	| :---------------: |:-------------------------------------------------	|
	|%d          		|十进制整数|
	|%x, %o, %b  		|十六进制，八进制，二进制整数。|
	|%f, %g, %e  		|浮点数： 3.141593 3.141592653589793 3.141593e+00|
	|%t          		|布尔：true或false|
	|%c          		|字符（rune） (Unicode码点)|
	|%s          		|字符串|
	|%q          		|带双引号的字符串"abc"或带单引号的字符'c'|
	|%v          		|变量的自然形式（natural format）|
	|%T          		|变量的类型|
	|%%          		|字面上的百分号标志（无操作数）|
	{: rules="all" frame="border"}

4. 果你的操作系统是Mac OS X或者Linux，那么在运行命令的末尾加上一个&符号，即可让程序简单地跑在后台，windows下可以在另外一个命令行窗口去运行这个程序。
5. Go语言里的switch可以不带操作对象；可以直接罗列多种条件，像其它语言里面的多个if else一样。这种形式叫做无tag switch(tagless switch)；这和switch true是等价的。

	```go
	func Signum(x int) int {
	    switch {
	    case x > 0:
	        return +1
	    default:
	        return 0
	    case x < 0:
	        return -1
	    }
	}
	```
6. 指针是可见的内存地址，&操作符可以返回一个变量的内存地址，并且*操作符可以获取指针指向的变量内容，但是在Go语言里没有指针运算，也就是不能像c语言里可以对指针进行加或减操作(可以通过unsafe包进行指针运算，具体参考[我的golang每日笔记](http://domicat.me/daily-notes-golang/#%E6%8C%87%E9%92%88))。

## 第2章：程序结构
1. todo


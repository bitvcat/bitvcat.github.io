<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="1043pt" height="1518pt"
 viewBox="0.00 0.00 1043.00 1518.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1514)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1514 1039,-1514 1039,4 -4,4"/>
<text text-anchor="middle" x="517.5" y="-7.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">skynet 结构体关系图</text>
<g id="clust3" class="cluster">
<title>cluster_ctxs</title>
<polygon fill="#d3d3d3" stroke="#d3d3d3" points="521.5,-1079 521.5,-1302 670.5,-1302 670.5,-1079 521.5,-1079"/>
<text text-anchor="middle" x="596" y="-1286.8" font-family="Microsoft Yahei" font-size="14.00" fill="#9400d3">H&#45;&gt;slot</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_names</title>
<polygon fill="#d3d3d3" stroke="#d3d3d3" points="555,-812 555,-944 638,-944 638,-812 555,-812"/>
<text text-anchor="middle" x="596.5" y="-928.8" font-family="Microsoft Yahei" font-size="14.00" fill="#9400d3">H&#45;&gt;name</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_mqs</title>
<polygon fill="#d3d3d3" stroke="#d3d3d3" points="527,-264 527,-689 665,-689 665,-264 527,-264"/>
<text text-anchor="middle" x="596" y="-673.8" font-family="Microsoft Yahei" font-size="14.00" fill="#9400d3">Mq list</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_handle</title>
<polygon fill="#eedd82" stroke="#eedd82" stroke-width="3" points="11.5,-735 11.5,-1020 241.5,-1020 241.5,-735 11.5,-735"/>
<text text-anchor="middle" x="126.5" y="-1004.8" font-family="Microsoft Yahei" font-size="14.00" fill="#00bfff">struct handle_storage</text>
</g>
<g id="clust8" class="cluster">
<title>cluster_context</title>
<polygon fill="#eedd82" stroke="#eedd82" stroke-width="3" points="772,-987 772,-1464 1027,-1464 1027,-987 772,-987"/>
<text text-anchor="middle" x="899.5" y="-1448.8" font-family="Microsoft Yahei" font-size="14.00" fill="#00bfff">struct skynet_context</text>
</g>
<g id="clust9" class="cluster">
<title>cluster_handlename</title>
<polygon fill="#eedd82" stroke="#eedd82" stroke-width="3" points="810.5,-847 810.5,-979 988.5,-979 988.5,-847 810.5,-847"/>
<text text-anchor="middle" x="899.5" y="-963.8" font-family="Microsoft Yahei" font-size="14.00" fill="#00bfff">struct handle_name</text>
</g>
<g id="clust10" class="cluster">
<title>cluster_globalmq</title>
<polygon fill="#eedd82" stroke="#eedd82" stroke-width="3" points="8,-470 8,-625 245,-625 245,-470 8,-470"/>
<text text-anchor="middle" x="126.5" y="-609.8" font-family="Microsoft Yahei" font-size="14.00" fill="#00bfff">struct global_queue</text>
</g>
<g id="clust11" class="cluster">
<title>cluster_mq</title>
<polygon fill="#eedd82" stroke="#eedd82" stroke-width="3" points="776.5,-500 776.5,-839 1022.5,-839 1022.5,-500 776.5,-500"/>
<text text-anchor="middle" x="899.5" y="-823.8" font-family="Microsoft Yahei" font-size="14.00" fill="#00bfff">struct message_queue</text>
</g>
<g id="clust12" class="cluster">
<title>cluster_msg</title>
<polygon fill="#eedd82" stroke="#eedd82" stroke-width="3" points="801,-313 801,-492 998,-492 998,-313 801,-313"/>
<text text-anchor="middle" x="899.5" y="-476.8" font-family="Microsoft Yahei" font-size="14.00" fill="#00bfff">struct skynet_message</text>
</g>
<g id="clust13" class="cluster">
<title>cluster_modules</title>
<polygon fill="#eedd82" stroke="#eedd82" stroke-width="3" points="13,-262 13,-441 240,-441 240,-262 13,-262"/>
<text text-anchor="middle" x="126.5" y="-425.8" font-family="Microsoft Yahei" font-size="14.00" fill="#00bfff">struct modules</text>
</g>
<g id="clust14" class="cluster">
<title>cluster_module</title>
<polygon fill="#eedd82" stroke="#eedd82" stroke-width="3" points="22,-31 22,-254 231,-254 231,-31 22,-31"/>
<text text-anchor="middle" x="126.5" y="-238.8" font-family="Microsoft Yahei" font-size="14.00" fill="#00bfff">struct skynet_module</text>
</g>
<!-- H -->
<g id="node1" class="node">
<title>H</title>
<polygon fill="none" stroke="#000000" points="312,-826 312,-907 343,-907 343,-826 312,-826"/>
<text text-anchor="start" x="318" y="-862.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">*H</text>
<polygon fill="none" stroke="#000000" points="343,-880 343,-907 422,-907 422,-880 343,-880"/>
<text text-anchor="start" x="356" y="-889.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">H&#45;&gt;slot</text>
<polygon fill="none" stroke="#000000" points="343,-853 343,-880 422,-880 422,-853 343,-853"/>
<text text-anchor="start" x="349" y="-862.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">H&#45;&gt;name</text>
<polygon fill="none" stroke="#000000" points="343,-826 343,-853 422,-853 422,-826 343,-826"/>
<text text-anchor="start" x="376.5" y="-835.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">...</text>
</g>
<!-- Q -->
<g id="node2" class="node">
<title>Q</title>
<polygon fill="none" stroke="#000000" points="314,-509 314,-563 345,-563 345,-509 314,-509"/>
<text text-anchor="start" x="320" y="-532.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">*Q</text>
<polygon fill="none" stroke="#000000" points="345,-536 345,-563 420,-563 420,-536 345,-536"/>
<text text-anchor="start" x="351" y="-545.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">Q&#45;&gt;head</text>
<polygon fill="none" stroke="#000000" points="345,-509 345,-536 420,-536 420,-509 345,-509"/>
<text text-anchor="start" x="358" y="-518.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">Q&#45;&gt;tail</text>
</g>
<!-- H&#45;&gt;Q -->
<g id="edge1" class="edge">
<title>H&#45;&gt;Q</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M367,-826.3485C367,-738.6165 367,-650.8844 367,-563.1523"/>
</g>
<!-- ctxs -->
<g id="node5" class="node">
<title>ctxs</title>
<polygon fill="none" stroke="#000000" points="529.5,-1087 529.5,-1271 662.5,-1271 662.5,-1087 529.5,-1087"/>
<text text-anchor="middle" x="555.5" y="-1209.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">*ctx1</text>
<polyline fill="none" stroke="#000000" points="581.5,-1156 581.5,-1271 "/>
<text text-anchor="middle" x="622" y="-1255.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">handle</text>
<polyline fill="none" stroke="#000000" points="581.5,-1248 662.5,-1248 "/>
<text text-anchor="middle" x="622" y="-1232.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">*instance</text>
<polyline fill="none" stroke="#000000" points="581.5,-1225 662.5,-1225 "/>
<text text-anchor="middle" x="622" y="-1209.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">*mod</text>
<polyline fill="none" stroke="#000000" points="581.5,-1202 662.5,-1202 "/>
<text text-anchor="middle" x="622" y="-1186.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">*queue</text>
<polyline fill="none" stroke="#000000" points="581.5,-1179 662.5,-1179 "/>
<text text-anchor="middle" x="622" y="-1163.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">...</text>
<polyline fill="none" stroke="#000000" points="529.5,-1156 662.5,-1156 "/>
<text text-anchor="middle" x="596" y="-1140.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">*ctx2</text>
<polyline fill="none" stroke="#000000" points="529.5,-1133 662.5,-1133 "/>
<text text-anchor="middle" x="596" y="-1117.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">*ctx3</text>
<polyline fill="none" stroke="#000000" points="529.5,-1110 662.5,-1110 "/>
<text text-anchor="middle" x="596" y="-1094.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">...</text>
</g>
<!-- H&#45;&gt;ctxs -->
<g id="edge7" class="edge">
<title>H:e&#45;&gt;ctxs:w</title>
<path fill="none" stroke="#000000" d="M422,-894C568.4476,-894 387.8927,-1199.1758 519.012,-1213.4809"/>
<polygon fill="#000000" stroke="#000000" points="510.9958,-1215.3835 521.5,-1214 512.4258,-1208.531 510.9958,-1215.3835"/>
</g>
<!-- names -->
<g id="node6" class="node">
<title>names</title>
<polygon fill="none" stroke="#000000" points="564,-820 564,-912 628,-912 628,-820 564,-820"/>
<text text-anchor="middle" x="596" y="-896.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">name1</text>
<polyline fill="none" stroke="#000000" points="564,-889 628,-889 "/>
<text text-anchor="middle" x="596" y="-873.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">name2</text>
<polyline fill="none" stroke="#000000" points="564,-866 628,-866 "/>
<text text-anchor="middle" x="596" y="-850.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">name3</text>
<polyline fill="none" stroke="#000000" points="564,-843 628,-843 "/>
<text text-anchor="middle" x="596" y="-827.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">...</text>
</g>
<!-- H&#45;&gt;names -->
<g id="edge8" class="edge">
<title>H:e&#45;&gt;names</title>
<path fill="none" stroke="#000000" d="M422,-866C466.8971,-866 518.3107,-866 553.5414,-866"/>
<polygon fill="#000000" stroke="#000000" points="545.0002,-869.5007 555,-866 544.9998,-862.5007 545.0002,-869.5007"/>
</g>
<!-- M -->
<g id="node3" class="node">
<title>M</title>
<polygon fill="none" stroke="#000000" points="313,-248 313,-302 347,-302 347,-248 313,-248"/>
<text text-anchor="start" x="319" y="-271.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">*M</text>
<polygon fill="none" stroke="#000000" points="347,-275 347,-302 422,-302 422,-275 347,-275"/>
<text text-anchor="start" x="353" y="-284.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">M&#45;&gt;path</text>
<polygon fill="none" stroke="#000000" points="347,-248 347,-275 422,-275 422,-248 347,-248"/>
<text text-anchor="start" x="362" y="-257.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">M&#45;&gt;m</text>
</g>
<!-- Q&#45;&gt;M -->
<g id="edge2" class="edge">
<title>Q&#45;&gt;M</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M367,-508.5802C367,-439.726 367,-370.8718 367,-302.0176"/>
</g>
<!-- mq1 -->
<g id="node7" class="node">
<title>mq1</title>
<polygon fill="none" stroke="#000000" points="536,-596 536,-658 590,-658 590,-596 536,-596"/>
<text text-anchor="start" x="544" y="-623.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">*mq1</text>
<polygon fill="none" stroke="#000000" points="590,-627 590,-658 657,-658 657,-627 590,-627"/>
<text text-anchor="start" x="599.5" y="-638.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">handle</text>
<polygon fill="none" stroke="#000000" points="590,-596 590,-627 657,-627 657,-596 590,-596"/>
<text text-anchor="start" x="598" y="-607.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">*queue</text>
</g>
<!-- Q&#45;&gt;mq1 -->
<g id="edge9" class="edge">
<title>Q:e&#45;&gt;mq1:w</title>
<path fill="none" stroke="#000000" d="M420,-550C477.9061,-550 474.191,-618.2409 524.8758,-626.2379"/>
<polygon fill="#000000" stroke="#000000" points="524.7655,-629.7394 535,-627 525.291,-622.7592 524.7655,-629.7394"/>
</g>
<!-- mq4 -->
<g id="node10" class="node">
<title>mq4</title>
<polygon fill="none" stroke="#000000" points="657,-308 535,-308 535,-272 657,-272 657,-308"/>
<text text-anchor="middle" x="596" y="-286.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">...</text>
</g>
<!-- Q&#45;&gt;mq4 -->
<g id="edge10" class="edge">
<title>Q:e&#45;&gt;mq4:w</title>
<path fill="none" stroke="#000000" d="M420,-522C531.4873,-522 426.8895,-304.2734 524.8714,-290.6655"/>
<polygon fill="#000000" stroke="#000000" points="525.251,-294.1482 535,-290 524.792,-287.1633 525.251,-294.1482"/>
</g>
<!-- E -->
<g id="node4" class="node">
<title>E</title>
<polygon fill="none" stroke="#000000" points="332,-113 332,-140 359,-140 359,-113 332,-113"/>
<text text-anchor="start" x="338" y="-122.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">*E</text>
<polygon fill="none" stroke="#000000" points="359,-113 359,-140 403,-140 403,-113 359,-113"/>
<text text-anchor="start" x="365" y="-122.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">E&#45;&gt;L</text>
</g>
<!-- M&#45;&gt;E -->
<g id="edge3" class="edge">
<title>M&#45;&gt;E</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M367,-247.9597C367,-212.1684 367,-176.3772 367,-140.5859"/>
</g>
<!-- path -->
<g id="node11" class="node">
<title>path</title>
<polygon fill="none" stroke="#000000" points="699,-254 487,-254 487,-216 705,-216 705,-248 699,-254"/>
<polyline fill="none" stroke="#000000" points="699,-254 699,-248 "/>
<polyline fill="none" stroke="#000000" points="705,-248 699,-248 "/>
<text text-anchor="middle" x="596" y="-238.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">服务动态库路径</text>
<text text-anchor="middle" x="596" y="-223.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000"> eg.: skynet/cservice/snlua.so</text>
</g>
<!-- M&#45;&gt;path -->
<g id="edge11" class="edge">
<title>M:e&#45;&gt;path</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="1,5" d="M422,-289C453.6337,-289 456.9977,-270.0276 487,-260 490.1303,-258.9538 493.3256,-257.9362 496.5633,-256.9482"/>
<polygon fill="#ff0000" stroke="#ff0000" points="497.768,-260.2425 506.3816,-254.0735 495.801,-253.5245 497.768,-260.2425"/>
</g>
<!-- envl -->
<g id="node12" class="node">
<title>envl</title>
<polygon fill="none" stroke="#000000" points="661.5,-145 524.5,-145 524.5,-107 667.5,-107 667.5,-139 661.5,-145"/>
<polyline fill="none" stroke="#000000" points="661.5,-145 661.5,-139 "/>
<polyline fill="none" stroke="#000000" points="667.5,-139 661.5,-139 "/>
<text text-anchor="middle" x="596" y="-129.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">全局环境配置</text>
<text text-anchor="middle" x="596" y="-114.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000"> 本质是一个 lua vm</text>
</g>
<!-- E&#45;&gt;envl -->
<g id="edge12" class="edge">
<title>E:e&#45;&gt;envl</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="1,5" d="M403,-126C439.287,-126 479.4116,-126 513.6331,-126"/>
<polygon fill="#ff0000" stroke="#ff0000" points="514.0533,-129.5001 524.0533,-126 514.0533,-122.5001 514.0533,-129.5001"/>
</g>
<!-- ctxs&#45;&gt;mq1 -->
<g id="edge22" class="edge">
<title>ctxs:w&#45;&gt;mq1:nw</title>
<path fill="none" stroke="#0000ff" stroke-width="2" d="M581,-1191C480.7326,-1191 423.5872,-847.6964 463,-755.5 487.6509,-697.8353 520.6554,-702.3446 565,-658"/>
<text text-anchor="middle" x="454.5" y="-759.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">关联</text>
</g>
<!-- instance -->
<g id="node13" class="node">
<title>instance</title>
<polygon fill="none" stroke="#000000" points="985.5,-1510 807.5,-1510 807.5,-1472 991.5,-1472 991.5,-1504 985.5,-1510"/>
<polyline fill="none" stroke="#000000" points="985.5,-1510 985.5,-1504 "/>
<polyline fill="none" stroke="#000000" points="991.5,-1504 985.5,-1504 "/>
<text text-anchor="middle" x="899.5" y="-1494.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">服务对象的指针</text>
<text text-anchor="middle" x="899.5" y="-1479.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000"> 由 ctx&#45;&gt;mod 创建出来的</text>
</g>
<!-- ctxs&#45;&gt;instance -->
<g id="edge21" class="edge">
<title>ctxs:instance&#45;&gt;instance</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="1,5" d="M663,-1237C719.7611,-1237 726.9578,-1433.4598 772,-1468 779.6834,-1473.8919 788.3879,-1478.4527 797.5528,-1481.9634"/>
<polygon fill="#ff0000" stroke="#ff0000" points="796.6525,-1485.3539 807.2469,-1485.2536 798.9023,-1478.7252 796.6525,-1485.3539"/>
</g>
<!-- skynet_context -->
<g id="node15" class="node">
<title>skynet_context</title>
<path fill="none" stroke="#6495ed" d="M792,-995.5C792,-995.5 1007,-995.5 1007,-995.5 1013,-995.5 1019,-1001.5 1019,-1007.5 1019,-1007.5 1019,-1420.5 1019,-1420.5 1019,-1426.5 1013,-1432.5 1007,-1432.5 1007,-1432.5 792,-1432.5 792,-1432.5 786,-1432.5 780,-1426.5 780,-1420.5 780,-1420.5 780,-1007.5 780,-1007.5 780,-1001.5 786,-995.5 792,-995.5"/>
<text text-anchor="start" x="788" y="-1417.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">struct skynet_context {</text>
<polyline fill="none" stroke="#6495ed" points="780,-1409.5 1019,-1409.5 "/>
<text text-anchor="start" x="788" y="-1394.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">void * instance;</text>
<polyline fill="none" stroke="#6495ed" points="780,-1386.5 1019,-1386.5 "/>
<text text-anchor="start" x="788" y="-1371.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">struct skynet_module * mod;</text>
<polyline fill="none" stroke="#6495ed" points="780,-1363.5 1019,-1363.5 "/>
<text text-anchor="start" x="788" y="-1348.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">void * cb_ud;</text>
<polyline fill="none" stroke="#6495ed" points="780,-1340.5 1019,-1340.5 "/>
<text text-anchor="start" x="788" y="-1325.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">skynet_cb cb;</text>
<polyline fill="none" stroke="#6495ed" points="780,-1317.5 1019,-1317.5 "/>
<text text-anchor="start" x="788" y="-1302.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">struct message_queue *queue;</text>
<polyline fill="none" stroke="#6495ed" points="780,-1294.5 1019,-1294.5 "/>
<text text-anchor="start" x="788" y="-1279.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">FILE * logfile;</text>
<polyline fill="none" stroke="#6495ed" points="780,-1271.5 1019,-1271.5 "/>
<text text-anchor="start" x="788" y="-1256.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">uint64_t cpu_cost;// in microsec</text>
<polyline fill="none" stroke="#6495ed" points="780,-1248.5 1019,-1248.5 "/>
<text text-anchor="start" x="788" y="-1233.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">uint64_t cpu_start;// in microsec</text>
<polyline fill="none" stroke="#6495ed" points="780,-1225.5 1019,-1225.5 "/>
<text text-anchor="start" x="788" y="-1210.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">char result[32];</text>
<polyline fill="none" stroke="#6495ed" points="780,-1202.5 1019,-1202.5 "/>
<text text-anchor="start" x="788" y="-1187.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">uint32_t handle;</text>
<polyline fill="none" stroke="#6495ed" points="780,-1179.5 1019,-1179.5 "/>
<text text-anchor="start" x="788" y="-1164.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">int session_id;</text>
<polyline fill="none" stroke="#6495ed" points="780,-1156.5 1019,-1156.5 "/>
<text text-anchor="start" x="788" y="-1141.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">int ref;</text>
<polyline fill="none" stroke="#6495ed" points="780,-1133.5 1019,-1133.5 "/>
<text text-anchor="start" x="788" y="-1118.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">int message_count;</text>
<polyline fill="none" stroke="#6495ed" points="780,-1110.5 1019,-1110.5 "/>
<text text-anchor="start" x="788" y="-1095.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">bool init;</text>
<polyline fill="none" stroke="#6495ed" points="780,-1087.5 1019,-1087.5 "/>
<text text-anchor="start" x="788" y="-1072.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">bool endless;</text>
<polyline fill="none" stroke="#6495ed" points="780,-1064.5 1019,-1064.5 "/>
<text text-anchor="start" x="788" y="-1049.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">bool profile;</text>
<polyline fill="none" stroke="#6495ed" points="780,-1041.5 1019,-1041.5 "/>
<text text-anchor="start" x="788" y="-1026.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">CHECKCALLING_DECL</text>
<polyline fill="none" stroke="#6495ed" points="780,-1018.5 1019,-1018.5 "/>
<text text-anchor="start" x="788" y="-1003.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">};</text>
</g>
<!-- ctxs&#45;&gt;skynet_context -->
<g id="edge17" class="edge">
<title>ctxs:ctx1&#45;&gt;skynet_context</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="1,5" d="M555,-1271C555,-1361.8258 672.9953,-1326.8177 770.8736,-1282.1542"/>
<polygon fill="#ff0000" stroke="#ff0000" points="767.7388,-1290.6469 772,-1280.9465 762.6196,-1285.8723 767.7388,-1290.6469"/>
</g>
<!-- handle_name -->
<g id="node16" class="node">
<title>handle_name</title>
<path fill="none" stroke="#6495ed" d="M830.5,-855C830.5,-855 968.5,-855 968.5,-855 974.5,-855 980.5,-861 980.5,-867 980.5,-867 980.5,-935 980.5,-935 980.5,-941 974.5,-947 968.5,-947 968.5,-947 830.5,-947 830.5,-947 824.5,-947 818.5,-941 818.5,-935 818.5,-935 818.5,-867 818.5,-867 818.5,-861 824.5,-855 830.5,-855"/>
<text text-anchor="middle" x="899.5" y="-931.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">struct handle_name {</text>
<polyline fill="none" stroke="#6495ed" points="818.5,-924 980.5,-924 "/>
<text text-anchor="middle" x="899.5" y="-908.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">char * name;</text>
<polyline fill="none" stroke="#6495ed" points="818.5,-901 980.5,-901 "/>
<text text-anchor="middle" x="899.5" y="-885.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">uint32_t handle;</text>
<polyline fill="none" stroke="#6495ed" points="818.5,-878 980.5,-878 "/>
<text text-anchor="start" x="826.5" y="-862.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">} </text>
</g>
<!-- names&#45;&gt;handle_name -->
<g id="edge18" class="edge">
<title>names:name1&#45;&gt;handle_name</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="1,5" d="M628,-901C687.9872,-901 755.4297,-901 808.0899,-901"/>
<polygon fill="#ff0000" stroke="#ff0000" points="800.5001,-904.5004 810.5,-901 800.4999,-897.5004 800.5001,-904.5004"/>
</g>
<!-- mq2 -->
<g id="node8" class="node">
<title>mq2</title>
<polygon fill="none" stroke="#000000" points="657,-524 535,-524 535,-488 657,-488 657,-524"/>
<text text-anchor="middle" x="596" y="-502.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">*mq2</text>
</g>
<!-- mq1&#45;&gt;mq2 -->
<g id="edge4" class="edge">
<title>mq1&#45;&gt;mq2</title>
<path fill="none" stroke="#000000" d="M596,-595.7493C596,-575.3203 596,-554.8913 596,-534.4624"/>
<polygon fill="#000000" stroke="#000000" points="599.5001,-534.4336 596,-524.4336 592.5001,-534.4336 599.5001,-534.4336"/>
</g>
<!-- message_queue -->
<g id="node18" class="node">
<title>message_queue</title>
<path fill="none" stroke="#6495ed" d="M796.5,-508.5C796.5,-508.5 1002.5,-508.5 1002.5,-508.5 1008.5,-508.5 1014.5,-514.5 1014.5,-520.5 1014.5,-520.5 1014.5,-795.5 1014.5,-795.5 1014.5,-801.5 1008.5,-807.5 1002.5,-807.5 1002.5,-807.5 796.5,-807.5 796.5,-807.5 790.5,-807.5 784.5,-801.5 784.5,-795.5 784.5,-795.5 784.5,-520.5 784.5,-520.5 784.5,-514.5 790.5,-508.5 796.5,-508.5"/>
<text text-anchor="start" x="792.5" y="-792.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">struct message_queue {</text>
<polyline fill="none" stroke="#6495ed" points="784.5,-784.5 1014.5,-784.5 "/>
<text text-anchor="start" x="792.5" y="-769.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">struct spinlock lock;</text>
<polyline fill="none" stroke="#6495ed" points="784.5,-761.5 1014.5,-761.5 "/>
<text text-anchor="start" x="792.5" y="-746.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">uint32_t handle;</text>
<polyline fill="none" stroke="#6495ed" points="784.5,-738.5 1014.5,-738.5 "/>
<text text-anchor="start" x="792.5" y="-723.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">int cap;</text>
<polyline fill="none" stroke="#6495ed" points="784.5,-715.5 1014.5,-715.5 "/>
<text text-anchor="start" x="792.5" y="-700.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">int head;</text>
<polyline fill="none" stroke="#6495ed" points="784.5,-692.5 1014.5,-692.5 "/>
<text text-anchor="start" x="792.5" y="-677.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">int tail;</text>
<polyline fill="none" stroke="#6495ed" points="784.5,-669.5 1014.5,-669.5 "/>
<text text-anchor="start" x="792.5" y="-654.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">int release;</text>
<polyline fill="none" stroke="#6495ed" points="784.5,-646.5 1014.5,-646.5 "/>
<text text-anchor="start" x="792.5" y="-631.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">int in_global;</text>
<polyline fill="none" stroke="#6495ed" points="784.5,-623.5 1014.5,-623.5 "/>
<text text-anchor="start" x="792.5" y="-608.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">int overload;</text>
<polyline fill="none" stroke="#6495ed" points="784.5,-600.5 1014.5,-600.5 "/>
<text text-anchor="start" x="792.5" y="-585.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">int overload_threshold;</text>
<polyline fill="none" stroke="#6495ed" points="784.5,-577.5 1014.5,-577.5 "/>
<text text-anchor="start" x="792.5" y="-562.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">struct skynet_message *queue;</text>
<polyline fill="none" stroke="#6495ed" points="784.5,-554.5 1014.5,-554.5 "/>
<text text-anchor="start" x="792.5" y="-539.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">struct message_queue *next;</text>
<polyline fill="none" stroke="#6495ed" points="784.5,-531.5 1014.5,-531.5 "/>
<text text-anchor="start" x="792.5" y="-516.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">}</text>
</g>
<!-- mq1&#45;&gt;message_queue -->
<g id="edge19" class="edge">
<title>mq1:ne&#45;&gt;message_queue</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="1,5" d="M590,-658C636.8849,-704.8849 710.4822,-706.5704 774.1461,-695.7374"/>
<polygon fill="#ff0000" stroke="#ff0000" points="768.2609,-701.5574 776.5,-694.8962 765.9053,-694.9655 768.2609,-701.5574"/>
</g>
<!-- skynet_message -->
<g id="node19" class="node">
<title>skynet_message</title>
<path fill="none" stroke="#6495ed" d="M821,-322C821,-322 978,-322 978,-322 984,-322 990,-328 990,-334 990,-334 990,-448 990,-448 990,-454 984,-460 978,-460 978,-460 821,-460 821,-460 815,-460 809,-454 809,-448 809,-448 809,-334 809,-334 809,-328 815,-322 821,-322"/>
<text text-anchor="start" x="817" y="-444.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">struct skynet_message {</text>
<polyline fill="none" stroke="#6495ed" points="809,-437 990,-437 "/>
<text text-anchor="start" x="817" y="-421.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">uint32_t source;</text>
<polyline fill="none" stroke="#6495ed" points="809,-414 990,-414 "/>
<text text-anchor="start" x="817" y="-398.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">int session;</text>
<polyline fill="none" stroke="#6495ed" points="809,-391 990,-391 "/>
<text text-anchor="start" x="817" y="-375.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">void * data;</text>
<polyline fill="none" stroke="#6495ed" points="809,-368 990,-368 "/>
<text text-anchor="start" x="817" y="-352.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">size_t sz;</text>
<polyline fill="none" stroke="#6495ed" points="809,-345 990,-345 "/>
<text text-anchor="start" x="817" y="-329.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">}</text>
</g>
<!-- mq1&#45;&gt;skynet_message -->
<g id="edge20" class="edge">
<title>mq1:e&#45;&gt;skynet_message</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="1,5" d="M657,-611C729.282,-611 718.4839,-544.5872 772,-496 778.8093,-489.8178 785.9137,-483.5366 793.1324,-477.2782"/>
<polygon fill="#ff0000" stroke="#ff0000" points="795.7078,-479.6794 801.0016,-470.5019 791.1401,-474.375 795.7078,-479.6794"/>
</g>
<!-- mq3 -->
<g id="node9" class="node">
<title>mq3</title>
<polygon fill="none" stroke="#000000" points="657,-416 535,-416 535,-380 657,-380 657,-416"/>
<text text-anchor="middle" x="596" y="-394.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">*mq3</text>
</g>
<!-- mq2&#45;&gt;mq3 -->
<g id="edge5" class="edge">
<title>mq2&#45;&gt;mq3</title>
<path fill="none" stroke="#000000" d="M596,-487.7473C596,-467.235 596,-446.7226 596,-426.2103"/>
<polygon fill="#000000" stroke="#000000" points="599.5001,-426.1406 596,-416.1406 592.5001,-426.1407 599.5001,-426.1406"/>
</g>
<!-- mq3&#45;&gt;mq4 -->
<g id="edge6" class="edge">
<title>mq3&#45;&gt;mq4</title>
<path fill="none" stroke="#000000" d="M596,-379.7473C596,-359.235 596,-338.7226 596,-318.2103"/>
<polygon fill="#000000" stroke="#000000" points="599.5001,-318.1406 596,-308.1406 592.5001,-318.1407 599.5001,-318.1406"/>
</g>
<!-- handle_storage -->
<g id="node14" class="node">
<title>handle_storage</title>
<path fill="none" stroke="#6495ed" d="M31.5,-743.5C31.5,-743.5 221.5,-743.5 221.5,-743.5 227.5,-743.5 233.5,-749.5 233.5,-755.5 233.5,-755.5 233.5,-976.5 233.5,-976.5 233.5,-982.5 227.5,-988.5 221.5,-988.5 221.5,-988.5 31.5,-988.5 31.5,-988.5 25.5,-988.5 19.5,-982.5 19.5,-976.5 19.5,-976.5 19.5,-755.5 19.5,-755.5 19.5,-749.5 25.5,-743.5 31.5,-743.5"/>
<text text-anchor="start" x="27.5" y="-973.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">struct handle_storage {</text>
<polyline fill="none" stroke="#6495ed" points="19.5,-965.5 233.5,-965.5 "/>
<text text-anchor="start" x="27.5" y="-950.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">struct rwlock lock;</text>
<polyline fill="none" stroke="#6495ed" points="19.5,-942.5 233.5,-942.5 "/>
<text text-anchor="start" x="27.5" y="-927.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">uint32_t harbor;</text>
<polyline fill="none" stroke="#6495ed" points="19.5,-919.5 233.5,-919.5 "/>
<text text-anchor="start" x="27.5" y="-904.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">uint32_t handle_index;</text>
<polyline fill="none" stroke="#6495ed" points="19.5,-896.5 233.5,-896.5 "/>
<text text-anchor="start" x="27.5" y="-881.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">int slot_size;</text>
<polyline fill="none" stroke="#6495ed" points="19.5,-873.5 233.5,-873.5 "/>
<text text-anchor="middle" x="126.5" y="-858.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">struct skynet_context ** slot;</text>
<text text-anchor="start" x="27.5" y="-843.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">// 存储着所有服务</text>
<polyline fill="none" stroke="#6495ed" points="19.5,-835.5 233.5,-835.5 "/>
<text text-anchor="start" x="27.5" y="-820.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">int name_cap;</text>
<polyline fill="none" stroke="#6495ed" points="19.5,-812.5 233.5,-812.5 "/>
<text text-anchor="start" x="27.5" y="-797.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">int name_count;</text>
<polyline fill="none" stroke="#6495ed" points="19.5,-789.5 233.5,-789.5 "/>
<text text-anchor="start" x="27.5" y="-774.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">struct handle_name *name;</text>
<polyline fill="none" stroke="#6495ed" points="19.5,-766.5 233.5,-766.5 "/>
<text text-anchor="start" x="27.5" y="-751.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">}</text>
</g>
<!-- handle_storage&#45;&gt;H -->
<g id="edge13" class="edge">
<title>handle_storage&#45;&gt;H:f0</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="1,5" d="M244.1834,-866C266.6962,-866 290.0768,-866 312,-866"/>
<polygon fill="#ff0000" stroke="#ff0000" points="241.5,-866 251.5002,-861.5004 246.5,-866.0002 251.5,-866.0004 251.5,-866.0004 251.5,-866.0004 246.5,-866.0002 251.4998,-870.5004 241.5,-866 241.5,-866"/>
</g>
<!-- global_queue -->
<g id="node17" class="node">
<title>global_queue</title>
<path fill="none" stroke="#6495ed" d="M28,-478.5C28,-478.5 225,-478.5 225,-478.5 231,-478.5 237,-484.5 237,-490.5 237,-490.5 237,-581.5 237,-581.5 237,-587.5 231,-593.5 225,-593.5 225,-593.5 28,-593.5 28,-593.5 22,-593.5 16,-587.5 16,-581.5 16,-581.5 16,-490.5 16,-490.5 16,-484.5 22,-478.5 28,-478.5"/>
<text text-anchor="start" x="24" y="-578.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">struct global_queue {</text>
<polyline fill="none" stroke="#6495ed" points="16,-570.5 237,-570.5 "/>
<text text-anchor="start" x="24" y="-555.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">struct message_queue *head;</text>
<polyline fill="none" stroke="#6495ed" points="16,-547.5 237,-547.5 "/>
<text text-anchor="start" x="24" y="-532.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">struct message_queue *tail;</text>
<polyline fill="none" stroke="#6495ed" points="16,-524.5 237,-524.5 "/>
<text text-anchor="start" x="24" y="-509.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">struct spinlock lock;</text>
<polyline fill="none" stroke="#6495ed" points="16,-501.5 237,-501.5 "/>
<text text-anchor="start" x="24" y="-486.3" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">}</text>
</g>
<!-- global_queue&#45;&gt;Q -->
<g id="edge14" class="edge">
<title>global_queue&#45;&gt;Q</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="1,5" d="M247.2516,-536C270.6164,-536 293.956,-536 313.7418,-536"/>
<polygon fill="#ff0000" stroke="#ff0000" points="245,-536 255.0002,-531.5004 250,-536.0002 255,-536.0004 255,-536.0004 255,-536.0004 250,-536.0002 254.9998,-540.5004 245,-536 245,-536"/>
</g>
<!-- modules -->
<g id="node20" class="node">
<title>modules</title>
<path fill="none" stroke="#6495ed" d="M33,-271C33,-271 220,-271 220,-271 226,-271 232,-277 232,-283 232,-283 232,-397 232,-397 232,-403 226,-409 220,-409 220,-409 33,-409 33,-409 27,-409 21,-403 21,-397 21,-397 21,-283 21,-283 21,-277 27,-271 33,-271"/>
<text text-anchor="start" x="29" y="-393.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">struct modules {</text>
<polyline fill="none" stroke="#6495ed" points="21,-386 232,-386 "/>
<text text-anchor="start" x="29" y="-370.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">int count;</text>
<polyline fill="none" stroke="#6495ed" points="21,-363 232,-363 "/>
<text text-anchor="start" x="29" y="-347.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">struct spinlock lock;</text>
<polyline fill="none" stroke="#6495ed" points="21,-340 232,-340 "/>
<text text-anchor="start" x="29" y="-324.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">const char * path;</text>
<polyline fill="none" stroke="#6495ed" points="21,-317 232,-317 "/>
<text text-anchor="start" x="29" y="-301.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">struct skynet_module m[32];</text>
<polyline fill="none" stroke="#6495ed" points="21,-294 232,-294 "/>
<text text-anchor="start" x="29" y="-278.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">}</text>
</g>
<!-- modules&#45;&gt;M -->
<g id="edge15" class="edge">
<title>modules&#45;&gt;M</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="1,5" d="M242.0723,-308.7642C266.5776,-302.1412 291.3424,-295.448 312.2876,-289.7871"/>
<polygon fill="#ff0000" stroke="#ff0000" points="232.3368,-311.3955 240.8163,-304.4422 237.1636,-310.0909 241.9904,-308.7863 241.9904,-308.7863 241.9904,-308.7863 237.1636,-310.0909 243.1645,-313.1304 232.3368,-311.3955 232.3368,-311.3955"/>
</g>
<!-- skynet_module -->
<g id="node21" class="node">
<title>skynet_module</title>
<path fill="none" stroke="#6495ed" d="M42,-39C42,-39 211,-39 211,-39 217,-39 223,-45 223,-51 223,-51 223,-211 223,-211 223,-217 217,-223 211,-223 211,-223 42,-223 42,-223 36,-223 30,-217 30,-211 30,-211 30,-51 30,-51 30,-45 36,-39 42,-39"/>
<text text-anchor="start" x="38" y="-207.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">struct modules {</text>
<polyline fill="none" stroke="#6495ed" points="30,-200 223,-200 "/>
<text text-anchor="start" x="38" y="-184.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">const char * name;</text>
<polyline fill="none" stroke="#6495ed" points="30,-177 223,-177 "/>
<text text-anchor="start" x="38" y="-161.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">void * module;</text>
<polyline fill="none" stroke="#6495ed" points="30,-154 223,-154 "/>
<text text-anchor="start" x="38" y="-138.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">skynet_dl_create create;</text>
<polyline fill="none" stroke="#6495ed" points="30,-131 223,-131 "/>
<text text-anchor="start" x="38" y="-115.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">skynet_dl_init init;</text>
<polyline fill="none" stroke="#6495ed" points="30,-108 223,-108 "/>
<text text-anchor="start" x="38" y="-92.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">skynet_dl_release release;</text>
<polyline fill="none" stroke="#6495ed" points="30,-85 223,-85 "/>
<text text-anchor="start" x="38" y="-69.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">skynet_dl_signal signal;</text>
<polyline fill="none" stroke="#6495ed" points="30,-62 223,-62 "/>
<text text-anchor="start" x="38" y="-46.8" font-family="Microsoft Yahei" font-size="14.00" fill="#000000">}</text>
</g>
<!-- skynet_module&#45;&gt;M -->
<g id="edge16" class="edge">
<title>skynet_module&#45;&gt;M:m</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="1,5" d="M233.1,-138.0829C304.3151,-149.2952 385,-177.545 385,-248"/>
<polygon fill="#ff0000" stroke="#ff0000" points="223.1235,-136.6112 233.6731,-133.6188 228.0699,-137.3409 233.0164,-138.0706 233.0164,-138.0706 233.0164,-138.0706 228.0699,-137.3409 232.3597,-142.5224 223.1235,-136.6112 223.1235,-136.6112"/>
</g>
</g>
</svg>
